digraph {
	subgraph cluster_backend {
		"backend/catalog[Deployment]" [label="catalog[Deployment]" color="blue" fontcolor="blue"]
		"backend/checkout[Deployment]" [label="checkout[Deployment]" color="blue" fontcolor="blue"]
		"backend/notification[Deployment]" [label="notification[Deployment]" color="blue" fontcolor="blue"]
		"backend/recommendation[Deployment]" [label="recommendation[Deployment]" color="blue" fontcolor="blue"]
		"backend/reports[Deployment]" [label="reports[Deployment]" color="blue" fontcolor="blue"]
		"backend/shipping[Deployment]" [label="shipping[Deployment]" color="blue" fontcolor="blue"]
		label="backend"
	}
	subgraph cluster_frontend {
		"frontend/asset-cache[Deployment]" [label="asset-cache[Deployment]" color="blue" fontcolor="blue"]
		"frontend/blog[Deployment]" [label="blog[Deployment]" color="#008000" fontcolor="#008000"]
		"frontend/webapp[Deployment]" [label="webapp[Deployment]" color="blue" fontcolor="blue"]
		label="frontend"
	}
	subgraph cluster_payments {
		"payments/gateway[Deployment]" [label="gateway[Deployment]" color="blue" fontcolor="blue"]
		"payments/mastercard-processor[Deployment]" [label="mastercard-processor[Deployment]" color="blue" fontcolor="blue"]
		"payments/visa-processor-v2[Deployment]" [label="visa-processor-v2[Deployment]" color="#008000" fontcolor="#008000"]
		"payments/visa-processor[Deployment]" [label="visa-processor[Deployment]" color="blue" fontcolor="blue"]
		label="payments"
	}
	subgraph cluster_zeroday {
		"zeroday/zeroday[Deployment]" [label="zeroday[Deployment]" color="#008000" fontcolor="#008000"]
		label="zeroday"
	}
	"{ingress-nginx}" [label="{ingress-nginx}" color="blue" fontcolor="blue"]
	"{openshift-ingress-operator}" [label="{openshift-ingress-operator}" color="blue" fontcolor="blue"]
	"backend/checkout[Deployment]" -> "backend/notification[Deployment]" [label="TCP 8080" color="grey" fontcolor="grey"]
	"backend/checkout[Deployment]" -> "backend/recommendation[Deployment]" [label="TCP 8080" color="grey" fontcolor="grey"]
	"backend/checkout[Deployment]" -> "payments/gateway[Deployment]" [label="TCP 8080" color="grey" fontcolor="grey"]
	"backend/recommendation[Deployment]" -> "backend/catalog[Deployment]" [label="TCP 8080" color="grey" fontcolor="grey"]
	"backend/reports[Deployment]" -> "backend/catalog[Deployment]" [label="TCP 8080" color="grey" fontcolor="grey"]
	"backend/reports[Deployment]" -> "backend/recommendation[Deployment]" [label="TCP 8080" color="grey" fontcolor="grey"]
	"frontend/webapp[Deployment]" -> "backend/checkout[Deployment]" [label="TCP 8080" color="grey" fontcolor="grey"]
	"frontend/webapp[Deployment]" -> "backend/recommendation[Deployment]" [label="TCP 8080" color="grey" fontcolor="grey"]
	"frontend/webapp[Deployment]" -> "backend/reports[Deployment]" [label="TCP 8080" color="grey" fontcolor="grey"]
	"frontend/webapp[Deployment]" -> "backend/shipping[Deployment]" [label="TCP 8080" color="grey" fontcolor="grey"]
	"payments/gateway[Deployment]" -> "payments/mastercard-processor[Deployment]" [label="TCP 8080" color="grey" fontcolor="grey"]
	"payments/gateway[Deployment]" -> "payments/visa-processor-v2[Deployment]" [label="TCP 8080" color="#008000" fontcolor="#008000"]
	"payments/gateway[Deployment]" -> "payments/visa-processor[Deployment]" [label="TCP 8080" color="grey" fontcolor="grey"]
	"{ingress-nginx}" -> "frontend/asset-cache[Deployment]" [label="TCP 8080" color="grey" fontcolor="grey"]
	"{ingress-nginx}" -> "frontend/blog[Deployment]" [label="TCP 8080" color="#008000" fontcolor="#008000"]
	"{ingress-nginx}" -> "frontend/webapp[Deployment]" [label="TCP 8080" color="grey" fontcolor="grey"]
	"{ingress-nginx}" -> "zeroday/zeroday[Deployment]" [label="TCP 8080" color="#008000" fontcolor="#008000"]
	"{openshift-ingress-operator}" -> "frontend/asset-cache[Deployment]" [label="TCP 8080" color="grey" fontcolor="grey"]
	"{openshift-ingress-operator}" -> "frontend/blog[Deployment]" [label="TCP 8080" color="#008000" fontcolor="#008000"]
	"{openshift-ingress-operator}" -> "frontend/webapp[Deployment]" [label="TCP 8080" color="grey" fontcolor="grey"]
	"{openshift-ingress-operator}" -> "zeroday/zeroday[Deployment]" [label="TCP 8080" color="#008000" fontcolor="#008000"]
	nodesep=0.5
	subgraph cluster_legend {
		label="Legend"
		fontsize = 10
		margin=0
		a [style=invis height=0 width=0]
		b [style=invis height=0 width=0]
		c [style=invis height=0 width=0]
		d [style=invis height=0 width=0]
		e [style=invis height=0 width=0]
		f [style=invis height=0 width=0]
		g [style=invis height=0 width=0]
		h [style=invis height=0 width=0]
		{rank=source a b c d}
		{rank=same e f g h}
		a -> b [label="added connection", color="#008000" fontcolor="#008000" fontsize = 10 arrowsize=0.2]
		c -> d [label="removed connection", color="red2" fontcolor="red2" fontsize = 10 arrowsize=0.2]
		e -> f [label="changed connection", color="magenta" fontcolor="magenta" fontsize = 10 arrowsize=0.2]
		g -> h [label="unchanged connection", color="grey" fontcolor="grey" fontsize = 10 arrowsize=0.2]
		np [label="new peer" color="#008000" fontcolor="#008000" fontsize = 10]
		lp [label="lost peer" color="red" fontcolor="red" fontsize = 10]
		pp [label="persistent peer" color="blue" fontcolor="blue" fontsize = 10]
		{rank=sink np lp pp}
		np->lp [style=invis]
		lp->pp [style=invis]
	}
}